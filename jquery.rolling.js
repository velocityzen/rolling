"use strict";!function(t,n,e){var i={},r=function(n){var e=i[n]||t[n];if(!e)throw new Error("Requested module '"+n+"' has not been defined.");return e},o=function(n,e,r){r?t[n]=e:i[n]=e};!function(t,n,e){for(var i,r=0,u=["ms","moz","webkit","o"],l=0;l<u.length&&!t.requestAnimationFrame;++l)i=t[u[l]+"RequestAnimationFrame"];i||(i=t.requestAnimationFrame||function(n,e){var i=(new Date).getTime(),o=Math.max(0,16-(i-r)),u=t.setTimeout(function(){n(i+o)},o);return r=i+o,u}),o("detective/raf",i)}(t,n),function(t,n,e){o("rolling/easing",{linear:function(t,n,e,i){return e*t/i+n},inQuad:function(t,n,e,i){return e*(t/=i)*t+n},outQuad:function(t,n,e,i){return-e*(t/=i)*(t-2)+n},inOutQuad:function(t,n,e,i){return(t/=i/2)<1?e/2*t*t+n:-e/2*(--t*(t-2)-1)+n},inCubic:function(t,n,e,i){return e*(t/=i)*t*t+n},outCubic:function(t,n,e,i){return e*((t=t/i-1)*t*t+1)+n},inOutCubic:function(t,n,e,i){return(t/=i/2)<1?e/2*t*t*t+n:e/2*((t-=2)*t*t+2)+n},inQuart:function(t,n,e,i){return e*(t/=i)*t*t*t+n},outQuart:function(t,n,e,i){return-e*((t=t/i-1)*t*t*t-1)+n},inOutQuart:function(t,n,e,i){return(t/=i/2)<1?e/2*t*t*t*t+n:-e/2*((t-=2)*t*t*t-2)+n},inQuint:function(t,n,e,i){return e*(t/=i)*t*t*t*t+n},outQuint:function(t,n,e,i){return e*((t=t/i-1)*t*t*t*t+1)+n},inOutQuint:function(t,n,e,i){return(t/=i/2)<1?e/2*t*t*t*t*t+n:e/2*((t-=2)*t*t*t*t+2)+n},inSine:function(t,n,e,i){return-e*Math.cos(t/i*(Math.PI/2))+e+n},outSine:function(t,n,e,i){return e*Math.sin(t/i*(Math.PI/2))+n},inOutSine:function(t,n,e,i){return-e/2*(Math.cos(Math.PI*t/i)-1)+n},inExpo:function(t,n,e,i){return 0==t?n:e*Math.pow(2,10*(t/i-1))+n},outExpo:function(t,n,e,i){return t==i?n+e:e*(-Math.pow(2,-10*t/i)+1)+n},inOutExpo:function(t,n,e,i){return 0==t?n:t==i?n+e:(t/=i/2)<1?e/2*Math.pow(2,10*(t-1))+n:e/2*(-Math.pow(2,-10*--t)+2)+n},inCirc:function(t,n,e,i){return-e*(Math.sqrt(1-(t/=i)*t)-1)+n},outCirc:function(t,n,e,i){return e*Math.sqrt(1-(t=t/i-1)*t)+n},inOutCirc:function(t,n,e,i){return(t/=i/2)<1?-e/2*(Math.sqrt(1-t*t)-1)+n:e/2*(Math.sqrt(1-(t-=2)*t)+1)+n},inElastic:function(t,n,e,i){var r=1.70158,o=0,u=e;if(0==t)return n;if(1==(t/=i))return n+e;if(o||(o=.3*i),u<Math.abs(e)){u=e;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(e/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o))+n},outElastic:function(t,n,e,i){var r=1.70158,o=0,u=e;if(0==t)return n;if(1==(t/=i))return n+e;if(o||(o=.3*i),u<Math.abs(e)){u=e;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(e/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-r)*(2*Math.PI)/o)+e+n},inOutElastic:function(t,n,e,i){var r=1.70158,o=0,u=e;if(0==t)return n;if(2==(t/=i/2))return n+e;if(o||(o=i*(.3*1.5)),u<Math.abs(e)){u=e;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(e/u);return 1>t?-.5*(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o))+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-r)*(2*Math.PI)/o)*.5+e+n},inBack:function(t,n,i,r,o){return o==e&&(o=1.70158),i*(t/=r)*t*((o+1)*t-o)+n},outBack:function(t,n,i,r,o){return o==e&&(o=1.70158),i*((t=t/r-1)*t*((o+1)*t+o)+1)+n},inOutBack:function(t,n,i,r,o){return o==e&&(o=1.70158),(t/=r/2)<1?i/2*(t*t*(((o*=1.525)+1)*t-o))+n:i/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+n}})}(t,n),function(t,n,e){var i,u,l=r("detective/raf"),a=r("rolling/easing"),c="onwheel"in n.createElement("div")?"wheel":n.onmousewheel!==e?"mousewheel":"DOMMouseScroll",s=0,h=0,f=[],d=n.documentElement,g=function(t,n,e){t.addEventListener(n,e,!1)},v=function(t,n,e){t.removeEventListener(n,e)},p=!0,b=function(){p=!0};g(t,"resize",b);var m=function(){p&&(i=Math.max(d.clientHeight,t.innerHeight||0),u=Math.max(d.clientWidth,t.innerWidth||0));for(var n in f){var e=f[n];(e.toUpdate||p)&&e.action()}p=!1,h&&l(m)},w={rollto:function(){var t=this,n=this.el,e=t.a,i=Date.now()-t.begin;i>t.duration&&(i=t.duration,t.stop(),t.cb&&t.done());for(var r in e)n[r]=t.ease(i,e[r].b,e[r].c,t.duration)},rollon:function(){var t=this,n=t.el,e=t.c,i=n.getBoundingClientRect();for(var r in e)for(var o=e[r],u=o.c,l=o.on,a=0,c=l.length;c>a;a++){var s,h=l[a],f=h.getBoundingClientRect(),d=n===h;t.current={};for(var g in u){var v=u[g];s=!0;for(var p in v){var b=Object.keys(v[p])[0],m=v[p][b][0],w=v[p][b][1],M=t.getCurrent(b+m,d,i,f);if("top"===b||"left"===b?w>M:M>w){s=!1;break}}if(s===!0)break}var C=h.getAttribute("data-rollon-state");C&&"true"===C===s||(h.setAttribute("data-rollon-state",s),o.cb(s,h))}t.toUpdate=!1},rolldirections:function(){var t=this,n=t.top-t.el.scrollTop,e=t.left-t.el.scrollLeft,i=Math.abs(n),r=Math.abs(e),o=t.c;for(var u in o){var l=o[u];"v"===l.d&&i>l.t&&(t.vertical&&n>0||!t.vertical&&0>n)?(t.vertical=!t.vertical,l.cb(t.vertical)):"h"===l.d&&r>l.t&&(t.horizontal&&e>0||!t.horizontal&&0>e)&&(t.horizontal=!t.horizontal,l.cb(t.horizontal))}t.top=t.el.scrollTop,t.left=t.el.scrollLeft,t.toUpdate=!1}},M=function(e,i,r){var o=this;switch(o.el=e,o.isWindow=e===n.body||e===d,o.type=i,o.action=w[i],i){case"rollto":o.duration=r.duration,o.ease=a[r.ease],o.cb=r.cb,o.a={};for(var u in r.a)o.a[u]={b:e[u],c:r.a[u]};o.onScroll=function(){o.stop(),v(e,c,o.onScroll)},g(e,c,o.onScroll),o.begin=Date.now(),o.toUpdate=!0;break;case"rolldirections":o.top=e.scrollTop,o.left=e.scrollLeft;case"rollon":o.onScroll=function(){o.toUpdate=!0},o.isWindow?g(t,"scroll",o.onScroll):g(e,"scroll",o.onScroll),o.c=[],o.add(r)}o.start()};M.prototype={add:function(t){this.c.push(t),this.update()},start:function(){this.id=s++,this.el.setAttribute("data-"+this.type,this.id),f[this.id]=this,1===++h&&m()},stop:function(){this.a?v(this.el,c,this.onScroll):(v(t,"resize",this.onScroll),v(t,"scroll",this.onScroll),v(this.el,"scroll",this.onScroll),this.el.removeAttribute("data-rollon-state")),this.el.removeAttribute("data-"+this.type),delete f[this.id],h--},done:function(){var t=this;setTimeout(function(){t.cb(t.el)},0)},update:function(){var t=this.c;for(var n in t){var e=t[n];e.selector&&(e.on=this.el.querySelectorAll(e.selector))}this.toUpdate=!0},getCurrent:function(t,n,e,i){return this.current[t]||(this.current[t]=C[t].call(this,n,e,i)),this.current[t]}};var C={toptop:function(t,n,e){return this.isWindow?e.top:t?this.el.scrollTop:e.top-n.top},topmiddle:function(t,n,e){return this.getCurrent("toptop",t,n,e)+e.height/2},topbottom:function(t,n,e){return this.isWindow?e.bottom:e.bottom-n.top},middletop:function(t,n,e){return this.getCurrent("toptop",t,n,e)-(this.isWindow?i/2:n.height/2)},middlemiddle:function(t,n,e){return this.getCurrent("middletop",t,n,e)+e.height/2},middlebottom:function(t,n,e){return-this.getCurrent("bottombottom",t,n,e)-(this.isWindow?i/2:n.height/2)},bottomtop:function(t,n,e){return this.isWindow?e.top-i:e.top-n.bottom},bottommiddle:function(t,n,e){return this.getCurrent("bottombottom",t,n,e)-e.height/2},bottombottom:function(t,n,e){return this.isWindow?e.bottom-i:t?this.el.scrollHeight-this.el.scrollTop-this.el.offsetHeight:e.bottom-n.bottom},leftleft:function(t,n,e){return this.isWindow?e.left:t?this.el.scrollLeft:e.left-n.left},leftcenter:function(t,n,e){return this.getCurrent("leftleft",t,n,e)+e.width/2},leftright:function(t,n,e){return this.isWindow?e.right:e.right-n.left},centerleft:function(t,n,e){return this.getCurrent("leftleft",t,n,e)-(this.isWindow?u/2:n.width/2)},centercenter:function(t,n,e){return this.getCurrent("centerleft",t,n,e)+e.width/2},centerright:function(t,n,e){return-this.getCurrent("rightright",t,n,e)-(this.isWindow?u/2:n.width/2)},rightleft:function(t,n,e){return this.isWindow?e.left-u:e.left-n.right},rightcenter:function(t,n,e){return this.getCurrent("rightright",t,n,e)-e.width/2},rightright:function(t,n,e){return this.isWindow?e.right-u:t?this.el.scrollWidth-this.el.scrollLeft-this.el.offsetWidth:e.right-n.right}};o("rolling/engine",{on:function(t,n){var e=t.getAttribute("data-rollon");return null===e?new M(t,"rollon",n):(f[e].add(n),f[e])},to:function(t,n){var e=t.getAttribute("data-rollto");return e&&f[e].stop(),new M(t,"rollto",n)},directions:function(t,n){var e=t.getAttribute("data-rolldirections");return null===e?new M(t,"rolldirections",n):(f[e].add(n),f[e])}})}(t,n),function(t,n,e){var i=r("rolling/engine").to,u=!!navigator.userAgent.match(/webkit/i),l=function(e,r,o){(e===t||e===n.body||e===n.documentElement)&&(e=u?n.body:n.documentElement);var l={},a=r.to,c=r.direction||"vertical";if("string"==typeof a&&(a=e.querySelector(a),!a))return!1;if(a instanceof Element){var s=a.getBoundingClientRect();a={top:s.top,left:s.left}}else a.top-=e.scrollTop,a.left-=e.scrollLeft;if("vertical"===c||"both"===c){var h=a.top+(r.shiftTop||0);0!==h&&(l.scrollTop=h)}if("horizontal"===c||"both"===c){var f=a.left+(r.shiftLeft||0);0!==f&&(l.scrollLeft=f)}return Object.keys(l).length?i(e,{a:l,duration:r.duration||1e3,ease:r.ease||"linear",cb:o}):void 0};o("rolling/to",l)}(t,n),function(t,n,e){var i=r("rolling/engine").on,u=/^([a-z]+)(?:\(([-0-9]+|([a-z]+)(?:\(([-0-9]+|)\))?)\))?/,l=!!navigator.userAgent.match(/webkit/i),a=function(e,r,o){(e===t||e===n.body||e===n.documentElement)&&(e=l?n.body:n.documentElement);var a,c=r.condition.split(" "),s={cb:o,c:[]};"string"==typeof r.on?s.selector=r.on:r.on instanceof HTMLElement?s.on=[r.on]:r.on||(s.on=[e]);for(var h in c){var f=c[h].match(u),d={};if(!f)throw new Error("Can't parse conditions");(0==h||"or"===f[1])&&(a=[],s.c.push(a)),"and"!==f[1]&&"or"!==f[1]&&(f[3]||(f[3]=f[1],f[4]=f[2]),d[f[1]]=[f[3],~~f[4]],a.push(d))}return i(e,s,o)};o("rolling/on",a)}(t,n),function(t,n,e){var i=r("rolling/engine").directions,u=!!navigator.userAgent.match(/webkit/i),l=function(e,r,o){return(e===t||e===n.body||e===n.documentElement)&&(e=u?n.body:n.documentElement),"function"==typeof r&&(o=r,r={}),i(e,{d:r.direction?r.direction[0]:"v",t:r.threshold||0,cb:o})};o("rolling/directions",l)}(t,n),function(t,n,e){var i=r("rolling/to"),o=r("rolling/on"),u=r("rolling/directions");jQuery.fn.extend({rollTo:function(t,n){return i(this[0],t,n),this},rollOn:function(t,n){return o(this[0],t,n),this},rollDirections:function(t,n){return u(this[0],t,n),this}})}(t,n)}(window,document);