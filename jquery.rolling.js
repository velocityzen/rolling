"use strict";!function(t,n,i){var e={},r=function(n){var i=e[n]||t[n];if(!i)throw new Error("Requested module '"+n+"' has not been defined.");return i},o=function(n,i,r){r?t[n]=i:e[n]=i};!function(t,n,i){for(var e,r=0,u=["ms","moz","webkit","o"],a=0;a<u.length&&!t.requestAnimationFrame;++a)e=t[u[a]+"RequestAnimationFrame"];e||(e=t.requestAnimationFrame||function(n,i){var e=(new Date).getTime(),o=Math.max(0,16-(e-r)),u=t.setTimeout(function(){n(e+o)},o);return r=e+o,u}),o("detective/raf",e)}(t,n),function(t,n,i){o("rolling/easing",{linear:function(t,n,i,e){return i*t/e+n},inQuad:function(t,n,i,e){return i*(t/=e)*t+n},outQuad:function(t,n,i,e){return-i*(t/=e)*(t-2)+n},inOutQuad:function(t,n,i,e){return(t/=e/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},inCubic:function(t,n,i,e){return i*(t/=e)*t*t+n},outCubic:function(t,n,i,e){return i*((t=t/e-1)*t*t+1)+n},inOutCubic:function(t,n,i,e){return(t/=e/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},inQuart:function(t,n,i,e){return i*(t/=e)*t*t*t+n},outQuart:function(t,n,i,e){return-i*((t=t/e-1)*t*t*t-1)+n},inOutQuart:function(t,n,i,e){return(t/=e/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},inQuint:function(t,n,i,e){return i*(t/=e)*t*t*t*t+n},outQuint:function(t,n,i,e){return i*((t=t/e-1)*t*t*t*t+1)+n},inOutQuint:function(t,n,i,e){return(t/=e/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},inSine:function(t,n,i,e){return-i*Math.cos(t/e*(Math.PI/2))+i+n},outSine:function(t,n,i,e){return i*Math.sin(t/e*(Math.PI/2))+n},inOutSine:function(t,n,i,e){return-i/2*(Math.cos(Math.PI*t/e)-1)+n},inExpo:function(t,n,i,e){return 0==t?n:i*Math.pow(2,10*(t/e-1))+n},outExpo:function(t,n,i,e){return t==e?n+i:i*(-Math.pow(2,-10*t/e)+1)+n},inOutExpo:function(t,n,i,e){return 0==t?n:t==e?n+i:(t/=e/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(-Math.pow(2,-10*--t)+2)+n},inCirc:function(t,n,i,e){return-i*(Math.sqrt(1-(t/=e)*t)-1)+n},outCirc:function(t,n,i,e){return i*Math.sqrt(1-(t=t/e-1)*t)+n},inOutCirc:function(t,n,i,e){return(t/=e/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},inElastic:function(t,n,i,e){var r=1.70158,o=0,u=i;if(0==t)return n;if(1==(t/=e))return n+i;if(o||(o=.3*e),u<Math.abs(i)){u=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin(2*(t*e-r)*Math.PI/o))+n},outElastic:function(t,n,i,e){var r=1.70158,o=0,u=i;if(0==t)return n;if(1==(t/=e))return n+i;if(o||(o=.3*e),u<Math.abs(i)){u=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/u);return u*Math.pow(2,-10*t)*Math.sin(2*(t*e-r)*Math.PI/o)+i+n},inOutElastic:function(t,n,i,e){var r=1.70158,o=0,u=i;if(0==t)return n;if(2==(t/=e/2))return n+i;if(o||(o=.3*e*1.5),u<Math.abs(i)){u=i;var r=o/4}else var r=o/(2*Math.PI)*Math.asin(i/u);return 1>t?-.5*u*Math.pow(2,10*(t-=1))*Math.sin(2*(t*e-r)*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*e-r)*Math.PI/o)*.5+i+n},inBack:function(t,n,e,r,o){return o==i&&(o=1.70158),e*(t/=r)*t*((o+1)*t-o)+n},outBack:function(t,n,e,r,o){return o==i&&(o=1.70158),e*((t=t/r-1)*t*((o+1)*t+o)+1)+n},inOutBack:function(t,n,e,r,o){return o==i&&(o=1.70158),(t/=r/2)<1?e/2*t*t*(((o*=1.525)+1)*t-o)+n:e/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+n}})}(t,n),function(t,n,i){var e,u,a=r("detective/raf"),l=r("rolling/easing"),c="onwheel"in n.createElement("div")?"wheel":n.onmousewheel!==i?"mousewheel":"DOMMouseScroll",s=0,h=0,f=[],d=n.documentElement,g=function(t,n,i){t.addEventListener(n,i,!1)},m=function(t,n,i){t.removeEventListener(n,i)},p=!0,v=function(){p=!0};g(t,"resize",v);var b=function(){p&&(e=Math.max(d.clientHeight,t.innerHeight||0),u=Math.max(d.clientWidth,t.innerWidth||0),p=!1);for(var n in f){var i=f[n];i.a&&i.animations(),i.c&&i.toUpdate&&i.conditions()}h&&a(b)},w=function(i,e){var r=this;if(r.el=i,r.isWindow=i===n.body||i===d,e.a){r.type="rollto",r.duration=e.duration,r.ease=l[e.ease],r.cb=e.cb,r.a={};for(var o in e.a)r.a[o]={b:i[o],c:e.a[o]};r.onScroll=function(){r.stop(),m(i,c,r.onScroll)},g(i,c,r.onScroll),r.begin=Date.now()}else e.c&&(r.onScroll=function(){r.toUpdate=!0},r.isWindow?g(t,"scroll",r.onScroll):g(i,"scroll",r.onScroll),g(t,"resize",r.onScroll),r.type="rollon",r.c=[],r.add(e));r.start()};w.prototype={add:function(t){this.c.push(t),this.update()},start:function(){this.id=s++,this.el.setAttribute("data-"+this.type,this.id),f[this.id]=this,1===++h&&b()},stop:function(){this.a?m(this.el,c,this.onScroll):(m(t,"resize",this.onScroll),m(t,"scroll",this.onScroll),m(this.el,"scroll",this.onScroll),this.el.removeAttribute("data-rollon-state")),this.el.removeAttribute("data-"+this.type),delete f[this.id],h--},done:function(){var t=this;setTimeout(function(){t.cb(t.el)},0)},animations:function(){var t=this,n=this.el,i=t.a,e=Date.now()-t.begin;e>t.duration&&(e=t.duration,t.stop(),t.cb&&t.done());for(var r in i)n[r]=t.ease(e,i[r].b,i[r].c,t.duration)},update:function(){var t=this.c;for(var n in t){var i=t[n];i.selector&&(i.on=this.el.querySelectorAll(i.selector))}this.toUpdate=!0},conditions:function(){var t=this,n=t.el,i=t.c,e=n.getBoundingClientRect();for(var r in i)for(var o=i[r],u=o.c,a=o.on,l=0,c=a.length;c>l;l++){var s,h=a[l],f=h.getBoundingClientRect(),d=n===h;t.current={};for(var g in u){var m=u[g];s=!0;for(var p in m){var v=Object.keys(m[p])[0],b=m[p][v][0],w=m[p][v][1],M=t.getCurrent(v+b,d,e,f);if("top"===v||"left"===v?w>M:M>w){s=!1;break}}if(s===!0)break}var C=h.getAttribute("data-rollon-state");C&&"true"===C===s||(h.setAttribute("data-rollon-state",s),o.cb(s,h))}t.toUpdate=!1},getCurrent:function(t,n,i,e){return this.current[t]||(this.current[t]=M[t].call(this,n,i,e)),this.current[t]}};var M={toptop:function(t,n,i){return this.isWindow?i.top:t?this.el.scrollTop:i.top-n.top},topmiddle:function(t,n,i){return this.getCurrent("toptop",t,n,i)+i.height/2},topbottom:function(t,n,i){return this.isWindow?i.bottom:i.bottom-n.top},middletop:function(t,n,i){return this.getCurrent("toptop",t,n,i)-(this.isWindow?e/2:n.height/2)},middlemiddle:function(t,n,i){return this.getCurrent("middletop",t,n,i)+i.height/2},middlebottom:function(t,n,i){return-this.getCurrent("bottombottom",t,n,i)-(this.isWindow?e/2:n.height/2)},bottomtop:function(t,n,i){return this.isWindow?i.top-e:i.top-n.bottom},bottommiddle:function(t,n,i){return this.getCurrent("bottombottom",t,n,i)-i.height/2},bottombottom:function(t,n,i){return this.isWindow?i.bottom-e:t?this.el.scrollHeight-this.el.scrollTop-this.el.offsetHeight:i.bottom-n.bottom},leftleft:function(t,n,i){return this.isWindow?i.left:t?this.el.scrollLeft:i.left-n.left},leftcenter:function(t,n,i){return this.getCurrent("leftleft",t,n,i)+i.width/2},leftright:function(t,n,i){return this.isWindow?i.right:i.right-n.left},centerleft:function(t,n,i){return this.getCurrent("leftleft",t,n,i)-(this.isWindow?u/2:n.width/2)},centercenter:function(t,n,i){return this.getCurrent("centerleft",t,n,i)+i.width/2},centerright:function(t,n,i){return-this.getCurrent("rightright",t,n,i)-(this.isWindow?u/2:n.width/2)},rightleft:function(t,n,i){return this.isWindow?i.left-u:i.left-n.right},rightcenter:function(t,n,i){return this.getCurrent("rightright",t,n,i)-i.width/2},rightright:function(t,n,i){return this.isWindow?i.right-u:t?this.el.scrollWidth-this.el.scrollLeft-this.el.offsetWidth:i.right-n.right}};o("rolling/engine",{rollon:function(t,n){var i=t.getAttribute("data-rollon");return null===i?new w(t,n):(f[i].add(n),f[i])},rollto:function(t,n){var i=t.getAttribute("data-rollto");return i&&f[i].stop(),new w(t,n)}})}(t,n),function(t,n,i){var e=r("rolling/engine").rollto,u=!!navigator.userAgent.match(/webkit/i),a=function(i,r,o){(i===t||i===n.body||i===n.documentElement)&&(i=u?n.body:n.documentElement);var a={},l=r.to,c=r.direction||"vertical";if("string"==typeof l&&(l=i.querySelector(l),!l))return!1;if(l instanceof Element){var s=l.getBoundingClientRect();l={top:s.top,left:s.left}}else l.top-=i.scrollTop,l.left-=i.scrollLeft;if("vertical"===c||"both"===c){var h=l.top+(r.shiftTop||0);0!==h&&(a.scrollTop=h)}if("horizontal"===c||"both"===c){var f=l.left+(r.shiftLeft||0);0!==f&&(a.scrollLeft=f)}return Object.keys(a).length?e(i,{a:a,duration:r.duration||1e3,ease:r.ease||"linear",cb:o}):void 0};o("rolling/to",a)}(t,n),function(t,n,i){var e=r("rolling/engine").rollon,u=/^([a-z]+)(?:\(([-0-9]+|([a-z]+)(?:\(([-0-9]+|)\))?)\))?/,a=!!navigator.userAgent.match(/webkit/i),l=function(i,r,o){(i===t||i===n.body||i===n.documentElement)&&(i=a?n.body:n.documentElement);var l,c=r.condition.split(" "),s={cb:o,c:[]};"string"==typeof r.on?s.selector=r.on:r.on instanceof HTMLElement?s.on=[r.on]:r.on||(s.on=[i]);for(var h in c){var f=c[h].match(u),d={};if(!f)throw new Error("Can't parse conditions");(0==h||"or"===f[1])&&(l=[],s.c.push(l)),"and"!==f[1]&&"or"!==f[1]&&(f[3]||(f[3]=f[1],f[4]=f[2]),d[f[1]]=[f[3],~~f[4]],l.push(d))}return e(i,s,o)};o("rolling/on",l)}(t,n),function(t,n,i){var e=r("rolling/to"),o=r("rolling/on");jQuery.fn.extend({rollTo:function(t,n){return e(this[0],t,n),this},rollOn:function(t,n){return o(this[0],t,n),this}})}(t,n)}(window,document);